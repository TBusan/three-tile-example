<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8" />
		<meta
			name="viewport"
			content="width=device-width initial-scale=1"
		/>
		<title>README</title>
		<link
			href="https://fonts.loli.net/css?family=Open+Sans:400italic,700italic,700,400&subset=latin,latin-ext"
			rel="stylesheet"
			type="text/css"
		/>
		<style type="text/css">
			html {
				overflow-x: initial !important;
			}
			:root {
				--bg-color: #ffffff;
				--text-color: #333333;
				--select-text-bg-color: #b5d6fc;
				--select-text-font-color: auto;
				--monospace: "Lucida Console", Consolas, "Courier", monospace;
				--title-bar-height: 20px;
			}
			.mac-os-11 {
				--title-bar-height: 28px;
			}
			html {
				font-size: 14px;
				background-color: var(--bg-color);
				color: var(--text-color);
				font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
				-webkit-font-smoothing: antialiased;
			}
			body {
				margin: 0px;
				padding: 0px;
				height: auto;
				bottom: 0px;
				top: 0px;
				left: 0px;
				right: 0px;
				font-size: 1rem;
				line-height: 1.42857;
				overflow-x: hidden;
				background: inherit;
				tab-size: 4;
			}
			iframe {
				margin: auto;
			}
			a.url {
				word-break: break-all;
			}
			a:active,
			a:hover {
				outline: 0px;
			}
			.in-text-selection,
			::selection {
				text-shadow: none;
				background: var(--select-text-bg-color);
				color: var(--select-text-font-color);
			}
			#write {
				margin: 0px auto;
				height: auto;
				width: inherit;
				word-break: normal;
				overflow-wrap: break-word;
				position: relative;
				white-space: normal;
				overflow-x: visible;
				padding-top: 36px;
			}
			#write.first-line-indent p {
				text-indent: 2em;
			}
			#write.first-line-indent li p,
			#write.first-line-indent p * {
				text-indent: 0px;
			}
			#write.first-line-indent li {
				margin-left: 2em;
			}
			.for-image #write {
				padding-left: 8px;
				padding-right: 8px;
			}
			body.typora-export {
				padding-left: 30px;
				padding-right: 30px;
			}
			.typora-export .footnote-line,
			.typora-export li,
			.typora-export p {
				white-space: pre-wrap;
			}
			.typora-export .task-list-item input {
				pointer-events: none;
			}
			@media screen and (max-width: 500px) {
				body.typora-export {
					padding-left: 0px;
					padding-right: 0px;
				}
				#write {
					padding-left: 20px;
					padding-right: 20px;
				}
				.CodeMirror-sizer {
					margin-left: 0px !important;
				}
				.CodeMirror-gutters {
					display: none !important;
				}
			}
			#write li > figure:last-child {
				margin-bottom: 0.5rem;
			}
			#write ol,
			#write ul {
				position: relative;
			}
			img {
				max-width: 100%;
				vertical-align: middle;
				image-orientation: from-image;
			}
			button,
			input,
			select,
			textarea {
				color: inherit;
				font: inherit;
			}
			input[type="checkbox"],
			input[type="radio"] {
				line-height: normal;
				padding: 0px;
			}
			*,
			::after,
			::before {
				box-sizing: border-box;
			}
			#write h1,
			#write h2,
			#write h3,
			#write h4,
			#write h5,
			#write h6,
			#write p,
			#write pre {
				width: inherit;
			}
			#write h1,
			#write h2,
			#write h3,
			#write h4,
			#write h5,
			#write h6,
			#write p {
				position: relative;
			}
			p {
				line-height: inherit;
			}
			h1,
			h2,
			h3,
			h4,
			h5,
			h6 {
				break-after: avoid-page;
				break-inside: avoid;
				orphans: 4;
			}
			p {
				orphans: 4;
			}
			h1 {
				font-size: 2rem;
			}
			h2 {
				font-size: 1.8rem;
			}
			h3 {
				font-size: 1.6rem;
			}
			h4 {
				font-size: 1.4rem;
			}
			h5 {
				font-size: 1.2rem;
			}
			h6 {
				font-size: 1rem;
			}
			.md-math-block,
			.md-rawblock,
			h1,
			h2,
			h3,
			h4,
			h5,
			h6,
			p {
				margin-top: 1rem;
				margin-bottom: 1rem;
			}
			.hidden {
				display: none;
			}
			.md-blockmeta {
				color: rgb(204, 204, 204);
				font-weight: 700;
				font-style: italic;
			}
			a {
				cursor: pointer;
			}
			sup.md-footnote {
				padding: 2px 4px;
				background-color: rgba(238, 238, 238, 0.7);
				color: rgb(85, 85, 85);
				border-radius: 4px;
				cursor: pointer;
			}
			sup.md-footnote a,
			sup.md-footnote a:hover {
				color: inherit;
				text-transform: inherit;
				text-decoration: inherit;
			}
			#write input[type="checkbox"] {
				cursor: pointer;
				width: inherit;
				height: inherit;
			}
			figure {
				overflow-x: auto;
				margin: 1.2em 0px;
				max-width: calc(100% + 16px);
				padding: 0px;
			}
			figure > table {
				margin: 0px;
			}
			tr {
				break-inside: avoid;
				break-after: auto;
			}
			thead {
				display: table-header-group;
			}
			table {
				border-collapse: collapse;
				border-spacing: 0px;
				width: 100%;
				overflow: auto;
				break-inside: auto;
				text-align: left;
			}
			table.md-table td {
				min-width: 32px;
			}
			.CodeMirror-gutters {
				border-right: 0px;
				background-color: inherit;
			}
			.CodeMirror-linenumber {
				user-select: none;
			}
			.CodeMirror {
				text-align: left;
			}
			.CodeMirror-placeholder {
				opacity: 0.3;
			}
			.CodeMirror pre {
				padding: 0px 4px;
			}
			.CodeMirror-lines {
				padding: 0px;
			}
			div.hr:focus {
				cursor: none;
			}
			#write pre {
				white-space: pre-wrap;
			}
			#write.fences-no-line-wrapping pre {
				white-space: pre;
			}
			#write pre.ty-contain-cm {
				white-space: normal;
			}
			.CodeMirror-gutters {
				margin-right: 4px;
			}
			.md-fences {
				font-size: 0.9rem;
				display: block;
				break-inside: avoid;
				text-align: left;
				overflow: visible;
				white-space: pre;
				background: inherit;
				position: relative !important;
			}
			.md-diagram-panel {
				width: 100%;
				margin-top: 10px;
				text-align: center;
				padding-top: 0px;
				padding-bottom: 8px;
				overflow-x: auto;
			}
			#write .md-fences.mock-cm {
				white-space: pre-wrap;
			}
			.md-fences.md-fences-with-lineno {
				padding-left: 0px;
			}
			#write.fences-no-line-wrapping .md-fences.mock-cm {
				white-space: pre;
				overflow-x: auto;
			}
			.md-fences.mock-cm.md-fences-with-lineno {
				padding-left: 8px;
			}
			.CodeMirror-line,
			twitterwidget {
				break-inside: avoid;
			}
			.footnotes {
				opacity: 0.8;
				font-size: 0.9rem;
				margin-top: 1em;
				margin-bottom: 1em;
			}
			.footnotes + .footnotes {
				margin-top: 0px;
			}
			.md-reset {
				margin: 0px;
				padding: 0px;
				border: 0px;
				outline: 0px;
				vertical-align: top;
				background: 0px 0px;
				text-decoration: none;
				text-shadow: none;
				float: none;
				position: static;
				width: auto;
				height: auto;
				white-space: nowrap;
				cursor: inherit;
				-webkit-tap-highlight-color: transparent;
				line-height: normal;
				font-weight: 400;
				text-align: left;
				box-sizing: content-box;
				direction: ltr;
			}
			li div {
				padding-top: 0px;
			}
			blockquote {
				margin: 1rem 0px;
			}
			li .mathjax-block,
			li p {
				margin: 0.5rem 0px;
			}
			li blockquote {
				margin: 1rem 0px;
			}
			li {
				margin: 0px;
				position: relative;
			}
			blockquote > :last-child {
				margin-bottom: 0px;
			}
			blockquote > :first-child,
			li > :first-child {
				margin-top: 0px;
			}
			.footnotes-area {
				color: rgb(136, 136, 136);
				margin-top: 0.714rem;
				padding-bottom: 0.143rem;
				white-space: normal;
			}
			#write .footnote-line {
				white-space: pre-wrap;
			}
			@media print {
				body,
				html {
					border: 1px solid transparent;
					height: 99%;
					break-after: avoid;
					break-before: avoid;
					font-variant-ligatures: no-common-ligatures;
				}
				#write {
					margin-top: 0px;
					padding-top: 0px;
					border-color: transparent !important;
				}
				.typora-export * {
					-webkit-print-color-adjust: exact;
				}
				.typora-export #write {
					break-after: avoid;
				}
				.typora-export #write::after {
					height: 0px;
				}
				.is-mac table {
					break-inside: avoid;
				}
			}
			.footnote-line {
				margin-top: 0.714em;
				font-size: 0.7em;
			}
			a img,
			img a {
				cursor: pointer;
			}
			pre.md-meta-block {
				font-size: 0.8rem;
				min-height: 0.8rem;
				white-space: pre-wrap;
				background: rgb(204, 204, 204);
				display: block;
				overflow-x: hidden;
			}
			p > .md-image:only-child:not(.md-img-error) img,
			p > img:only-child {
				display: block;
				margin: auto;
			}
			#write.first-line-indent p > .md-image:only-child:not(.md-img-error) img {
				left: -2em;
				position: relative;
			}
			p > .md-image:only-child {
				display: inline-block;
				width: 100%;
			}
			#write .MathJax_Display {
				margin: 0.8em 0px 0px;
			}
			.md-math-block {
				width: 100%;
			}
			.md-math-block:not(:empty)::after {
				display: none;
			}
			.MathJax_ref {
				fill: currentcolor;
			}
			[contenteditable="true"]:active,
			[contenteditable="true"]:focus,
			[contenteditable="false"]:active,
			[contenteditable="false"]:focus {
				outline: 0px;
				box-shadow: none;
			}
			.md-task-list-item {
				position: relative;
				list-style-type: none;
			}
			.task-list-item.md-task-list-item {
				padding-left: 0px;
			}
			.md-task-list-item > input {
				position: absolute;
				top: 0px;
				left: 0px;
				margin-left: -1.2em;
				margin-top: calc(1em - 10px);
				border: none;
			}
			.math {
				font-size: 1rem;
			}
			.md-toc {
				min-height: 3.58rem;
				position: relative;
				font-size: 0.9rem;
				border-radius: 10px;
			}
			.md-toc-content {
				position: relative;
				margin-left: 0px;
			}
			.md-toc-content::after,
			.md-toc::after {
				display: none;
			}
			.md-toc-item {
				display: block;
				color: rgb(65, 131, 196);
			}
			.md-toc-item a {
				text-decoration: none;
			}
			.md-toc-inner:hover {
				text-decoration: underline;
			}
			.md-toc-inner {
				display: inline-block;
				cursor: pointer;
			}
			.md-toc-h1 .md-toc-inner {
				margin-left: 0px;
				font-weight: 700;
			}
			.md-toc-h2 .md-toc-inner {
				margin-left: 2em;
			}
			.md-toc-h3 .md-toc-inner {
				margin-left: 4em;
			}
			.md-toc-h4 .md-toc-inner {
				margin-left: 6em;
			}
			.md-toc-h5 .md-toc-inner {
				margin-left: 8em;
			}
			.md-toc-h6 .md-toc-inner {
				margin-left: 10em;
			}
			@media screen and (max-width: 48em) {
				.md-toc-h3 .md-toc-inner {
					margin-left: 3.5em;
				}
				.md-toc-h4 .md-toc-inner {
					margin-left: 5em;
				}
				.md-toc-h5 .md-toc-inner {
					margin-left: 6.5em;
				}
				.md-toc-h6 .md-toc-inner {
					margin-left: 8em;
				}
			}
			a.md-toc-inner {
				font-size: inherit;
				font-style: inherit;
				font-weight: inherit;
				line-height: inherit;
			}
			.footnote-line a:not(.reversefootnote) {
				color: inherit;
			}
			.md-attr {
				display: none;
			}
			.md-fn-count::after {
				content: ".";
			}
			code,
			pre,
			samp,
			tt {
				font-family: var(--monospace);
			}
			kbd {
				margin: 0px 0.1em;
				padding: 0.1em 0.6em;
				font-size: 0.8em;
				color: rgb(36, 39, 41);
				background: rgb(255, 255, 255);
				border: 1px solid rgb(173, 179, 185);
				border-radius: 3px;
				box-shadow: rgba(12, 13, 14, 0.2) 0px 1px 0px, rgb(255, 255, 255) 0px 0px 0px 2px inset;
				white-space: nowrap;
				vertical-align: middle;
			}
			.md-comment {
				color: rgb(162, 127, 3);
				opacity: 0.8;
				font-family: var(--monospace);
			}
			code {
				text-align: left;
				vertical-align: initial;
			}
			a.md-print-anchor {
				white-space: pre !important;
				border-width: initial !important;
				border-style: none !important;
				border-color: initial !important;
				display: inline-block !important;
				position: absolute !important;
				width: 1px !important;
				right: 0px !important;
				outline: 0px !important;
				background: 0px 0px !important;
				text-decoration: initial !important;
				text-shadow: initial !important;
			}
			.md-inline-math .MathJax_SVG .noError {
				display: none !important;
			}
			.html-for-mac .inline-math-svg .MathJax_SVG {
				vertical-align: 0.2px;
			}
			.md-math-block .MathJax_SVG_Display {
				text-align: center;
				margin: 0px;
				position: relative;
				text-indent: 0px;
				max-width: none;
				max-height: none;
				min-height: 0px;
				min-width: 100%;
				width: auto;
				overflow-y: hidden;
				display: block !important;
			}
			.MathJax_SVG_Display,
			.md-inline-math .MathJax_SVG_Display {
				width: auto;
				margin: inherit;
				display: inline-block !important;
			}
			.MathJax_SVG .MJX-monospace {
				font-family: var(--monospace);
			}
			.MathJax_SVG .MJX-sans-serif {
				font-family: sans-serif;
			}
			.MathJax_SVG {
				display: inline;
				font-style: normal;
				font-weight: 400;
				line-height: normal;
				zoom: 90%;
				text-indent: 0px;
				text-align: left;
				text-transform: none;
				letter-spacing: normal;
				word-spacing: normal;
				overflow-wrap: normal;
				white-space: nowrap;
				float: none;
				direction: ltr;
				max-width: none;
				max-height: none;
				min-width: 0px;
				min-height: 0px;
				border: 0px;
				padding: 0px;
				margin: 0px;
			}
			.MathJax_SVG * {
				transition: none 0s ease 0s;
			}
			.MathJax_SVG_Display svg {
				vertical-align: middle !important;
				margin-bottom: 0px !important;
				margin-top: 0px !important;
			}
			.os-windows.monocolor-emoji .md-emoji {
				font-family: "Segoe UI Symbol", sans-serif;
			}
			.md-diagram-panel > svg {
				max-width: 100%;
			}
			[lang="flow"] svg,
			[lang="mermaid"] svg {
				max-width: 100%;
				height: auto;
			}
			[lang="mermaid"] .node text {
				font-size: 1rem;
			}
			table tr th {
				border-bottom: 0px;
			}
			video {
				max-width: 100%;
				display: block;
				margin: 0px auto;
			}
			iframe {
				max-width: 100%;
				width: 100%;
				border: none;
			}
			.highlight td,
			.highlight tr {
				border: 0px;
			}
			mark {
				background: rgb(255, 255, 0);
				color: rgb(0, 0, 0);
			}
			.md-html-inline .md-plain,
			.md-html-inline strong,
			mark .md-inline-math,
			mark strong {
				color: inherit;
			}
			mark .md-meta {
				color: rgb(0, 0, 0);
				opacity: 0.3 !important;
			}
			@media print {
				.typora-export h1,
				.typora-export h2,
				.typora-export h3,
				.typora-export h4,
				.typora-export h5,
				.typora-export h6 {
					break-inside: avoid;
				}
			}
			.md-diagram-panel .messageText {
				stroke: none !important;
			}
			.md-diagram-panel .start-state {
				fill: var(--node-fill);
			}
			.md-diagram-panel .edgeLabel rect {
				opacity: 1 !important;
			}
			.md-require-zoom-fix foreignobject {
				font-size: var(--mermaid-font-zoom);
			}

			.CodeMirror {
				height: auto;
			}
			.CodeMirror.cm-s-inner {
				background: inherit;
			}
			.CodeMirror-scroll {
				overflow: auto hidden;
				z-index: 3;
			}
			.CodeMirror-gutter-filler,
			.CodeMirror-scrollbar-filler {
				background-color: rgb(255, 255, 255);
			}
			.CodeMirror-gutters {
				border-right: 1px solid rgb(221, 221, 221);
				background: inherit;
				white-space: nowrap;
			}
			.CodeMirror-linenumber {
				padding: 0px 3px 0px 5px;
				text-align: right;
				color: rgb(153, 153, 153);
			}
			.cm-s-inner .cm-keyword {
				color: rgb(119, 0, 136);
			}
			.cm-s-inner .cm-atom,
			.cm-s-inner.cm-atom {
				color: rgb(34, 17, 153);
			}
			.cm-s-inner .cm-number {
				color: rgb(17, 102, 68);
			}
			.cm-s-inner .cm-def {
				color: rgb(0, 0, 255);
			}
			.cm-s-inner .cm-variable {
				color: rgb(0, 0, 0);
			}
			.cm-s-inner .cm-variable-2 {
				color: rgb(0, 85, 170);
			}
			.cm-s-inner .cm-variable-3 {
				color: rgb(0, 136, 85);
			}
			.cm-s-inner .cm-string {
				color: rgb(170, 17, 17);
			}
			.cm-s-inner .cm-property {
				color: rgb(0, 0, 0);
			}
			.cm-s-inner .cm-operator {
				color: rgb(152, 26, 26);
			}
			.cm-s-inner .cm-comment,
			.cm-s-inner.cm-comment {
				color: rgb(170, 85, 0);
			}
			.cm-s-inner .cm-string-2 {
				color: rgb(255, 85, 0);
			}
			.cm-s-inner .cm-meta {
				color: rgb(85, 85, 85);
			}
			.cm-s-inner .cm-qualifier {
				color: rgb(85, 85, 85);
			}
			.cm-s-inner .cm-builtin {
				color: rgb(51, 0, 170);
			}
			.cm-s-inner .cm-bracket {
				color: rgb(153, 153, 119);
			}
			.cm-s-inner .cm-tag {
				color: rgb(17, 119, 0);
			}
			.cm-s-inner .cm-attribute {
				color: rgb(0, 0, 204);
			}
			.cm-s-inner .cm-header,
			.cm-s-inner.cm-header {
				color: rgb(0, 0, 255);
			}
			.cm-s-inner .cm-quote,
			.cm-s-inner.cm-quote {
				color: rgb(0, 153, 0);
			}
			.cm-s-inner .cm-hr,
			.cm-s-inner.cm-hr {
				color: rgb(153, 153, 153);
			}
			.cm-s-inner .cm-link,
			.cm-s-inner.cm-link {
				color: rgb(0, 0, 204);
			}
			.cm-negative {
				color: rgb(221, 68, 68);
			}
			.cm-positive {
				color: rgb(34, 153, 34);
			}
			.cm-header,
			.cm-strong {
				font-weight: 700;
			}
			.cm-del {
				text-decoration: line-through;
			}
			.cm-em {
				font-style: italic;
			}
			.cm-link {
				text-decoration: underline;
			}
			.cm-error {
				color: red;
			}
			.cm-invalidchar {
				color: red;
			}
			.cm-constant {
				color: rgb(38, 139, 210);
			}
			.cm-defined {
				color: rgb(181, 137, 0);
			}
			div.CodeMirror span.CodeMirror-matchingbracket {
				color: rgb(0, 255, 0);
			}
			div.CodeMirror span.CodeMirror-nonmatchingbracket {
				color: rgb(255, 34, 34);
			}
			.cm-s-inner .CodeMirror-activeline-background {
				background: inherit;
			}
			.CodeMirror {
				position: relative;
				overflow: hidden;
			}
			.CodeMirror-scroll {
				height: 100%;
				outline: 0px;
				position: relative;
				box-sizing: content-box;
				background: inherit;
			}
			.CodeMirror-sizer {
				position: relative;
			}
			.CodeMirror-gutter-filler,
			.CodeMirror-hscrollbar,
			.CodeMirror-scrollbar-filler,
			.CodeMirror-vscrollbar {
				position: absolute;
				z-index: 6;
				display: none;
			}
			.CodeMirror-vscrollbar {
				right: 0px;
				top: 0px;
				overflow: hidden;
			}
			.CodeMirror-hscrollbar {
				bottom: 0px;
				left: 0px;
				overflow: hidden;
			}
			.CodeMirror-scrollbar-filler {
				right: 0px;
				bottom: 0px;
			}
			.CodeMirror-gutter-filler {
				left: 0px;
				bottom: 0px;
			}
			.CodeMirror-gutters {
				position: absolute;
				left: 0px;
				top: 0px;
				padding-bottom: 30px;
				z-index: 3;
			}
			.CodeMirror-gutter {
				white-space: normal;
				height: 100%;
				box-sizing: content-box;
				padding-bottom: 30px;
				margin-bottom: -32px;
				display: inline-block;
			}
			.CodeMirror-gutter-wrapper {
				position: absolute;
				z-index: 4;
				background: 0px 0px !important;
				border: none !important;
			}
			.CodeMirror-gutter-background {
				position: absolute;
				top: 0px;
				bottom: 0px;
				z-index: 4;
			}
			.CodeMirror-gutter-elt {
				position: absolute;
				cursor: default;
				z-index: 4;
			}
			.CodeMirror-lines {
				cursor: text;
			}
			.CodeMirror pre {
				border-radius: 0px;
				border-width: 0px;
				background: 0px 0px;
				font-family: inherit;
				font-size: inherit;
				margin: 0px;
				white-space: pre;
				overflow-wrap: normal;
				color: inherit;
				z-index: 2;
				position: relative;
				overflow: visible;
			}
			.CodeMirror-wrap pre {
				overflow-wrap: break-word;
				white-space: pre-wrap;
				word-break: normal;
			}
			.CodeMirror-code pre {
				border-right: 30px solid transparent;
				width: fit-content;
			}
			.CodeMirror-wrap .CodeMirror-code pre {
				border-right: none;
				width: auto;
			}
			.CodeMirror-linebackground {
				position: absolute;
				left: 0px;
				right: 0px;
				top: 0px;
				bottom: 0px;
				z-index: 0;
			}
			.CodeMirror-linewidget {
				position: relative;
				z-index: 2;
				overflow: auto;
			}
			.CodeMirror-wrap .CodeMirror-scroll {
				overflow-x: hidden;
			}
			.CodeMirror-measure {
				position: absolute;
				width: 100%;
				height: 0px;
				overflow: hidden;
				visibility: hidden;
			}
			.CodeMirror-measure pre {
				position: static;
			}
			.CodeMirror div.CodeMirror-cursor {
				position: absolute;
				visibility: hidden;
				border-right: none;
				width: 0px;
			}
			.CodeMirror div.CodeMirror-cursor {
				visibility: hidden;
			}
			.CodeMirror-focused div.CodeMirror-cursor {
				visibility: inherit;
			}
			.cm-searching {
				background: rgba(255, 255, 0, 0.4);
			}
			@media print {
				.CodeMirror div.CodeMirror-cursor {
					visibility: hidden;
				}
			}

			:root {
				--side-bar-bg-color: #fafafa;
				--control-text-color: #777;
			}

			@include-when-export url(https://fonts.loli.net/css?family=Open+Sans:400italic,700italic,700,400&subset=latin,latin-ext);

			/* open-sans-regular - latin-ext_latin */
			/* open-sans-italic - latin-ext_latin */
			/* open-sans-700 - latin-ext_latin */
			/* open-sans-700italic - latin-ext_latin */
			html {
				font-size: 16px;
			}

			body {
				font-family: "Open Sans", "Clear Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
				color: rgb(51, 51, 51);
				line-height: 1.6;
			}

			#write {
				max-width: 860px;
				margin: 0 auto;
				padding: 30px;
				padding-bottom: 100px;
			}

			@media only screen and (min-width: 1400px) {
				#write {
					max-width: 1024px;
				}
			}

			@media only screen and (min-width: 1800px) {
				#write {
					max-width: 1200px;
				}
			}

			#write > ul:first-child,
			#write > ol:first-child {
				margin-top: 30px;
			}

			a {
				color: #4183c4;
			}
			h1,
			h2,
			h3,
			h4,
			h5,
			h6 {
				position: relative;
				margin-top: 1rem;
				margin-bottom: 1rem;
				font-weight: bold;
				line-height: 1.4;
				cursor: text;
			}
			h1:hover a.anchor,
			h2:hover a.anchor,
			h3:hover a.anchor,
			h4:hover a.anchor,
			h5:hover a.anchor,
			h6:hover a.anchor {
				text-decoration: none;
			}
			h1 tt,
			h1 code {
				font-size: inherit;
			}
			h2 tt,
			h2 code {
				font-size: inherit;
			}
			h3 tt,
			h3 code {
				font-size: inherit;
			}
			h4 tt,
			h4 code {
				font-size: inherit;
			}
			h5 tt,
			h5 code {
				font-size: inherit;
			}
			h6 tt,
			h6 code {
				font-size: inherit;
			}
			h1 {
				font-size: 2.25em;
				line-height: 1.2;
				border-bottom: 1px solid #eee;
			}
			h2 {
				font-size: 1.75em;
				line-height: 1.225;
				border-bottom: 1px solid #eee;
			}

			/*@media print {
    .typora-export h1,
    .typora-export h2 {
        border-bottom: none;
        padding-bottom: initial;
    }

    .typora-export h1::after,
    .typora-export h2::after {
        content: "";
        display: block;
        height: 100px;
        margin-top: -96px;
        border-top: 1px solid #eee;
    }
}*/

			h3 {
				font-size: 1.5em;
				line-height: 1.43;
			}
			h4 {
				font-size: 1.25em;
			}
			h5 {
				font-size: 1em;
			}
			h6 {
				font-size: 1em;
				color: #777;
			}
			p,
			blockquote,
			ul,
			ol,
			dl,
			table {
				margin: 0.8em 0;
			}
			li > ol,
			li > ul {
				margin: 0 0;
			}
			hr {
				height: 2px;
				padding: 0;
				margin: 16px 0;
				background-color: #e7e7e7;
				border: 0 none;
				overflow: hidden;
				box-sizing: content-box;
			}

			li p.first {
				display: inline-block;
			}
			ul,
			ol {
				padding-left: 30px;
			}
			ul:first-child,
			ol:first-child {
				margin-top: 0;
			}
			ul:last-child,
			ol:last-child {
				margin-bottom: 0;
			}
			blockquote {
				border-left: 4px solid #dfe2e5;
				padding: 0 15px;
				color: #777777;
			}
			blockquote blockquote {
				padding-right: 0;
			}
			table {
				padding: 0;
				word-break: initial;
			}
			table tr {
				border-top: 1px solid #dfe2e5;
				margin: 0;
				padding: 0;
			}
			table tr:nth-child(2n),
			thead {
				background-color: #f8f8f8;
			}
			table th {
				font-weight: bold;
				border: 1px solid #dfe2e5;
				border-bottom: 0;
				margin: 0;
				padding: 6px 13px;
			}
			table td {
				border: 1px solid #dfe2e5;
				margin: 0;
				padding: 6px 13px;
			}
			table th:first-child,
			table td:first-child {
				margin-top: 0;
			}
			table th:last-child,
			table td:last-child {
				margin-bottom: 0;
			}

			.CodeMirror-lines {
				padding-left: 4px;
			}

			.code-tooltip {
				box-shadow: 0 1px 1px 0 rgba(0, 28, 36, 0.3);
				border-top: 1px solid #eef2f2;
			}

			.md-fences,
			code,
			tt {
				border: 1px solid #e7eaed;
				background-color: #f8f8f8;
				border-radius: 3px;
				padding: 0;
				padding: 2px 4px 0px 4px;
				font-size: 0.9em;
			}

			code {
				background-color: #f3f4f4;
				padding: 0 2px 0 2px;
			}

			.md-fences {
				margin-bottom: 15px;
				margin-top: 15px;
				padding-top: 8px;
				padding-bottom: 6px;
			}

			.md-task-list-item > input {
				margin-left: -1.3em;
			}

			@media print {
				html {
					font-size: 13px;
				}
				table,
				pre {
					page-break-inside: avoid;
				}
				pre {
					word-wrap: break-word;
				}
			}

			.md-fences {
				background-color: #f8f8f8;
			}
			#write pre.md-meta-block {
				padding: 1rem;
				font-size: 85%;
				line-height: 1.45;
				background-color: #f7f7f7;
				border: 0;
				border-radius: 3px;
				color: #777777;
				margin-top: 0 !important;
			}

			.mathjax-block > .code-tooltip {
				bottom: 0.375rem;
			}

			.md-mathjax-midline {
				background: #fafafa;
			}

			#write > h3.md-focus:before {
				left: -1.5625rem;
				top: 0.375rem;
			}
			#write > h4.md-focus:before {
				left: -1.5625rem;
				top: 0.285714286rem;
			}
			#write > h5.md-focus:before {
				left: -1.5625rem;
				top: 0.285714286rem;
			}
			#write > h6.md-focus:before {
				left: -1.5625rem;
				top: 0.285714286rem;
			}
			.md-image > .md-meta {
				/*border: 1px solid #ddd;*/
				border-radius: 3px;
				padding: 2px 0px 0px 4px;
				font-size: 0.9em;
				color: inherit;
			}

			.md-tag {
				color: #a7a7a7;
				opacity: 1;
			}

			.md-toc {
				margin-top: 20px;
				padding-bottom: 20px;
			}

			.sidebar-tabs {
				border-bottom: none;
			}

			#typora-quick-open {
				border: 1px solid #ddd;
				background-color: #f8f8f8;
			}

			#typora-quick-open-item {
				background-color: #fafafa;
				border-color: #fefefe #e5e5e5 #e5e5e5 #eee;
				border-style: solid;
				border-width: 1px;
			}

			/** focus mode */
			.on-focus-mode blockquote {
				border-left-color: rgba(85, 85, 85, 0.12);
			}

			header,
			.context-menu,
			.megamenu-content,
			footer {
				font-family: "Segoe UI", "Arial", sans-serif;
			}

			.file-node-content:hover .file-node-icon,
			.file-node-content:hover .file-node-open-state {
				visibility: visible;
			}

			.mac-seamless-mode #typora-sidebar {
				background-color: #fafafa;
				background-color: var(--side-bar-bg-color);
			}

			.md-lang {
				color: #b4654d;
			}

			.html-for-mac .context-menu {
				--item-hover-bg-color: #e6f0fe;
			}

			#md-notification .btn {
				border: 0;
			}

			.dropdown-menu .divider {
				border-color: #e5e5e5;
			}

			.ty-preferences .window-content {
				background-color: #fafafa;
			}

			.ty-preferences .nav-group-item.active {
				color: white;
				background: #999;
			}
		</style>
	</head>
	<body class="typora-export os-windows">
		<div
			id="write"
			class="first-line-indent"
		>
			<h1>
				<a
					name="three-tile-v05"
					class="md-header-anchor"
				></a
				><strong><span>three-tile V0.5</span></strong>
			</h1>
			<p align="right">郭江峰 hz_gjf@163.com SXMB</p>
			<h2>
				<a
					name="1-简介"
					class="md-header-anchor"
				></a
				><span>1 简介</span>
			</h2>
			<p>
				<span>three-tile 是一个基于 </span><a href="https://threejs.org/"><span>threejs</span></a
				><span>
					的轻量级三维瓦片地图框架，具有使用简单、资源占用少等优点，适用于基于 threejs
					开发三维地图应用。</span
				>
			</p>
			<ul>
				<li>
					<span
						>three-tile 本质上是一个动态 LOD
						模型，核心代码与地图是无关的，适用范围并不仅限于地图，但最典型的应用还是三维地图。</span
					>
				</li>
				<li>
					<span
						>three-tile 不是一个 GIS 框架，它并不提供图层管理、空间分析等 GIS
						相关功能。正因为如此，它的核心可以做的很轻量级，能轻松集成到已有项目中。</span
					>
				</li>
				<li>
					<span
						>three-tile 参考了大量开源 GIS 的开发思路，但仅仅是思路，除了数据源定义，未 copy
						一行代码，更不是 Cesium、MapBox 等套壳。</span
					>
				</li>
			</ul>
			<p>
				<span>Source： </span
				><a
					href="https://github.com/sxguojf/three-tile-example"
					target="_blank"
					class="url"
					>https://github.com/sxguojf/three-tile-example</a
				>
			</p>
			<p>
				<span>Examples: </span
				><a
					href="https://sxguojf.github.io/three-tile-example"
					target="_blank"
					class="url"
					>https://sxguojf.github.io/three-tile-example</a
				>
			</p>
			<p><span>免责声明：</span></p>
			<ul>
				<li>
					<span
						>本框架不含任何地图数据，Example
						中使用的地图均为直接调用第三方数据，使用中请遵循法律法规要求。</span
					>
				</li>
				<li><span>Example 中使用的图片和模型，均来自互联网，若涉及版权问题请通知我。</span></li>
			</ul>
			<h3>
				<a
					name="11-优点"
					class="md-header-anchor"
				></a
				><span>1.1 优点</span>
			</h3>
			<ul>
				<li><span>体积小：仅 60 多 k 的包（不含 example），十分小巧，开箱即用。</span></li>
				<li><span>轻量级：地图以一个三维模型方式提供，不会对你的程序架构产生任何影响。</span></li>
				<li><span>依赖少：整个框架仅有 threejs（R152）一个依赖。</span></li>
				<li><span>速度快：对资源占用做极致优化，核显也能轻松跑到 60FPS。</span></li>
				<li><span>使用简单：熟悉 threejs 基本上没有学习成本。</span></li>
				<li><span>扩展性强：数据、模型、纹理、材质、渲染过程均能根据自己需要扩展和替换。</span></li>
			</ul>
			<h3>
				<a
					name="13-开发环境"
					class="md-header-anchor"
				></a
				><span>1.3 开发环境</span>
			</h3>
			<ul>
				<li><span>语言：TypeScript 100%</span></li>
				<li><span>IDE： VSCode</span></li>
				<li><span>打包：Vite 4.0</span></li>
				<li><span>依赖：three^0.152</span></li>
			</ul>
			<hr />
			<h2>
				<a
					name="2-安装"
					class="md-header-anchor"
				></a
				><span>2 安装</span>
			</h2>
			<p><span>建议使用 typescript 开发，原生 JavaScript 写的代码 BUG 防不胜防，至少使用 ES6。</span></p>
			<h3>
				<a
					name="21-直接引用"
					class="md-header-anchor"
				></a
				><span>2.1 直接引用</span>
			</h3>
			<pre
				spellcheck="false"
				class="md-fences md-end-block ty-contain-cm modeLoaded"
				lang=""
			><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">&lt;script src="./three.js"&gt;&lt;/script&gt;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">&lt;script src="./three-tile.umd.js"&gt;&lt;/script&gt;</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 46px;"></div><div class="CodeMirror-gutters" style="display: none; height: 46px;"></div></div></div></pre>
			<h3>
				<a
					name="22-npm"
					class="md-header-anchor"
				></a
				><span>2.2 npm</span>
			</h3>
			<pre
				spellcheck="false"
				class="md-fences md-end-block ty-contain-cm modeLoaded"
				lang="sh"
			><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="sh"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">npm</span> i three-tile <span class="cm-attribute">-S</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 23px;"></div><div class="CodeMirror-gutters" style="display: none; height: 23px;"></div></div></div></pre>
			<p>
				<a
					href="https://www.npmjs.com/package/three-tile"
					target="_blank"
					class="url"
					>https://www.npmjs.com/package/three-tile</a
				>
			</p>
			<hr />
			<h2>
				<a
					name="3-使用"
					class="md-header-anchor"
				></a
				><span>3 使用</span>
			</h2>
			<p>
				<span>和一般 threejs 应用一样，初始化 threejs 三维场景后，将地图模型加入场景即可完成地图的显示。</span>
			</p>
			<p>
				<span
					>TileMap 类是 three-tile 地图模型，它是一个 Mesh，按 threejs 的套路初始化场景，并将 TileMap
					的实例加入场景即可。</span
				>
			</p>
			<p>
				<span
					>为了便于使用，three-tile 还提供一个 GLViewer
					类，它封装了场景初始化过程，一般可直接使用它进行初始化。但如果你熟悉 threejs，最好自己写，跟普通
					threejs 程序并无太大差异。</span
				>
			</p>
			<h3>
				<a
					name="31-约定和限制"
					class="md-header-anchor"
				></a
				><span>3.1 约定和限制</span>
			</h3>
			<ul>
				<li>
					<span
						>坐标轴：地图模型为东北上坐标系，即 X 轴指向东，Y 轴指向北，Z 轴指向上。与 threejs
						默认坐标不同需要注意。</span
					>
				</li>
				<li>
					<span
						>坐标单位：角度单位为弧度，经纬度为度，3857 投影（默认）距离单位为公里，4326 投影距离单位为 0.01
						度，高度单位均为公里。</span
					>
				</li>
				<li>
					<span
						>瓦片数据：内建的地图影像和地形数据均使用图片格式（jpg、png、webp 等），支持 3854 和 4326
						投影，暂不支持矢量瓦片。</span
					>
				</li>
				<li><span>瓦片属性：默认情况瓦片模型纹理透明属性开启，请注意渲染顺序。</span></li>
				<li><span>地图清晰度：清晰度与本框架无关，取决数据源精度。</span></li>
				<li>
					<span>地图标注源：大部分国内厂商地图数据的地名、边界、道路有一定偏移，与地形无法完全匹配。</span>
				</li>
				<li>
					<span
						>地图 token：大部分厂商的地图数据需要申请开发 key 才能使用，three-tile 示例包含一些厂商的
						token，访问的人多了厂商会封掉它们，使用者一定要自己申请（又不要钱）避免直接使用。</span
					>
				</li>
			</ul>
			<h3>
				<a
					name="32-地图创建"
					class="md-header-anchor"
				></a
				><span>3.2 地图创建</span>
			</h3>
			<p>
				<span
					>一般应用，可使用 TileMap 的工厂方法 create 创建地图，用 GLViewer
					初始化三维场景，并将地图加入场景：</span
				>
			</p>
			<pre
				spellcheck="false"
				class="md-fences md-end-block ty-contain-cm modeLoaded"
				lang="typescript"
				style="break-inside: unset"
			><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="typescript"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><span><span>​</span>x</span></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-keyword">*</span> <span class="cm-keyword">as</span> <span class="cm-def">tt</span> <span class="cm-keyword">from</span> <span class="cm-string">"three-tile"</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// 取得地图dom容器</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">const</span> <span class="cm-def">glContainer</span> <span class="cm-operator">=</span> <span class="cm-variable">document</span>.<span class="cm-property">querySelector</span><span class="cm-operator">&lt;</span><span class="cm-type">HTMLElement</span><span class="cm-operator">&gt;</span>(<span class="cm-string">"#map"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// 初始化三维场景(调用three-tile内置的初始化类)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">const</span> <span class="cm-def">viewer</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">tt</span>.<span class="cm-property">plugin</span>.<span class="cm-property">GLViewer</span>(<span class="cm-variable">glContainer</span><span class="cm-operator">!</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// MapBoxToken 请更换为你自己申请的key</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">const</span> <span class="cm-def">MAPBOXKEY</span> <span class="cm-operator">=</span> <span class="cm-string">"xxxxxxxxxx"</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// mapbox 影像数据源</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">const</span> <span class="cm-def">mapBoxImgSource</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">tt</span>.<span class="cm-property">plugin</span>.<span class="cm-property">MapBoxSource</span>({</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-property">token</span>: <span class="cm-variable">MAPBOXKEY</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-property">dataType</span>: <span class="cm-string">"image"</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-property">style</span>: <span class="cm-string">"mapbox.satellite"</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">});</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// mapbox 高程数据源</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">export</span> <span class="cm-keyword">const</span> <span class="cm-def">mapBoxDemSource</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">tt</span>.<span class="cm-property">plugin</span>.<span class="cm-property">MapBoxSource</span>({</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-property">token</span>: <span class="cm-variable">MAPBOXKEY</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-property">dataType</span>: <span class="cm-string">"terrain-rgb"</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-property">style</span>: <span class="cm-string">"mapbox.terrain-rgb"</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-property">maxLevel</span>: <span class="cm-number">15</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">});</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// 创建地图</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">const</span> <span class="cm-def">map</span> <span class="cm-operator">=</span> <span class="cm-variable">tt</span>.<span class="cm-property">TileMap</span>.<span class="cm-property">create</span>({</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-comment">// 影像数据源</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-property">imgSource</span>: <span class="cm-variable">mapBoxImgSource</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-comment">// 地形数据源</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-property">demSource</span>: <span class="cm-variable">mapBoxDemSource</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-comment">// 地图投影中心经度</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-property">centralMeridian</span>: <span class="cm-number">90</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-comment">// 最小缩放级别</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-property">minLevel</span>: <span class="cm-number">2</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-comment">// 最大缩放级别</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-property">maxLevel</span>: <span class="cm-number">18</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">});</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// 将地图加入三维场景</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">viewer</span>.<span class="cm-property">scene</span>.<span class="cm-property">add</span>(<span class="cm-variable">map</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 943px;"></div><div class="CodeMirror-gutters" style="display: none; height: 943px;"></div></div></div></pre>
			<h3>
				<a
					name="33-三维场景"
					class="md-header-anchor"
				></a
				><span>3.3 三维场景</span>
			</h3>
			<p><span>三维场景的初始化与 threejs 的没有太大区别，但以下部分需要注意：</span></p>
			<ul>
				<li>
					<span
						>为了使地图坐标系与一般人类理解一致，地图坐标方向采用东(x)北(y)上(z)方向，即地面在 x-y
						平面上，海拔高度在 z 轴。而 threejs 一般平面在 xz 平面上，高度为 y
						轴，所以初始化时需要使场景默认 up 指向 z 轴，可添加：Object3D.DEFAULT_UP.set(0, 0, 1)
						即可。如果你的应用不能调整 up 值，可以将地图旋转-π/2° 完成。</span
					>
				</li>
				<li>
					<span
						>地图添加光照才能显示。一般至少要有一个环境光，另外最好加一个直射光以通过地形法向量增强凹凸感。</span
					>
				</li>
				<li>
					<span
						>场景控制器一般应用可使用 threejs 内置的 MapControls，其它控制器如
						OrbitControls、FlyControls、PointerLockControls、TransformControls、FirstPersonControls
						都能完美支持。</span
					>
				</li>
			</ul>
			<p><span>更多使用方法见 example</span></p>
		</div>
	</body>
</html>
