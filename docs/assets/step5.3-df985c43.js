import"./modulepreload-polyfill-3cfb730f.js";import{V as n,r as w,a3 as h,a4 as l,a5 as m,e as p,n as g,g as u,f as M,a as y}from"./mapSource-2c762b60.js";import{G as L}from"./GLTFLoader-9aad0524.js";import{c as S,a as f,e as b,b as v,s as P}from"./util-e741174c.js";const a=S([y]);a.receiveShadow=!0;const i=a.geo2pos(new n(105,34)),k=new n(i.x,i.y,0),x=new n(0,-5e3,1e4),e=f("#map",k,x);e.scene.add(a);e.scene.background=new w(0);e.ambLight.intensity=.5;e.dirLight.intensity=.5;e.renderer.shadowMap.enabled=!0;e.renderer.shadowMap.type=h;(()=>{const t=document.querySelector("#shadow");t.addEventListener("click",()=>{e.renderer.shadowMap.enabled=t.checked,e.renderer.shadowMap.needsUpdate=!0,a.rootTile.traverse(o=>{o.material.forEach(s=>{s.needsUpdate=!0})})})})();const c=(()=>{const t=new l(16777215,3,3e4,Math.PI/3.5,0,0),o=a.geo2pos(new n(105,30));return t.position.set(o.x,o.y-3e3,6e3),t.target.position.set(o.x,o.y,0),t.castShadow=!0,t})();e.scene.add(c);e.scene.add(new m(c));const d=new p(new g(100),new u({color:8947967}));d.position.copy(c.position);d.lookAt(c.target.position);e.scene.add(d);const I=new M({color:12303291,transparent:!0,opacity:.9});let r;new L().load("../model/cloud09.glb",t=>{r=t.scene;const o=a.geo2pos(new n(60,0));r.position.set(o.x,o.y,2),r.scale.setScalar(50),r.rotation.set(Math.PI/2,Math.PI/2,0),r.traverse(s=>{s instanceof p&&(s.castShadow=!0,s.receiveShadow=!0,s.material=I)}),e.scene.add(r)});b(a);v(a);P(e,a);
