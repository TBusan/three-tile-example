import"./modulepreload-polyfill-3cfb730f.js";import{c as h,V as d,b as l,aH as w,ah as m,ai as u,l as p,E as M,o as L,n as S,K as g,j as y,s as b,m as f,e as v,z as x}from"./util-7385d603.js";import{G as P}from"./GLTFLoader-9b06a8ec.js";const o=h([v,x],f),i=o.project(105,35),k=new d(i.x,i.y,0),j=new d(0,-6e3,5e3),e=l("#map",k,j);e.scene.add(o);e.ambLight.intensity=.1;e.dirLight.intensity=.1;e.renderer.shadowMap.enabled=!0;e.renderer.shadowMap.type=w;(()=>{const t=document.querySelector("#shadow");t.addEventListener("click",()=>{e.renderer.shadowMap.enabled=t.checked,e.renderer.shadowMap.needsUpdate=!0,o.rootTile.traverse(a=>{a.material.forEach(s=>{s.needsUpdate=!0})})})})();const n=(()=>{const t=new m(16777215,3,3e4,Math.PI/3.5),a=o.project(105,30);return t.position.set(a.x,a.y-3e3,6e3),t.target.position.set(a.x,a.y,0),t.castShadow=!0,t})();e.scene.add(n);e.scene.add(new u(n));const c=new p(new M(100),new L({color:8947967}));c.position.copy(n.position);c.lookAt(n.target.position);e.scene.add(c);o.addEventListener("tile-created",t=>{t.tile.receiveShadow=!0});const E=new S({color:12303291,transparent:!0,opacity:.9});let r;new P().load("../../model/cloud09.glb",t=>{r=t.scene;const a=o.project(60,0);r.position.set(a.x,a.y,2),r.scale.setScalar(50),r.rotation.set(Math.PI/2,Math.PI/2,0),r.traverse(s=>{s instanceof p&&(s.castShadow=!0,s.receiveShadow=!0,s.material=E)}),e.scene.add(r)});g(o);y(o);b(e,o);
