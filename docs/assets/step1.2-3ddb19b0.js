import"./modulepreload-polyfill-3cfb730f.js";import{V as c,m as p,a as d}from"./mapSource-e82aaabe.js";import{c as w,a as y}from"./util-a27d2d6b.js";import{e as u,T as a}from"./tween.module-e5a426a4.js";const n=w(d,p),s=new c(108,34,0),g=new c(108,0,1e4),o=y("#map",n,s,g);o.scene.add(n);o.controls.saveState();document.querySelector("#jump").addEventListener("click",()=>{const t=n.localToWorld(n.geo2pos(new c(107.8,34,0))),e=n.localToWorld(n.geo2pos(new c(107.9,34,7.8)));console.log(e,t),o.camera.position.copy(e),o.controls.target.copy(t),o.controls.dispatchEvent({type:"change",target:o.controls})});document.querySelector("#timer").addEventListener("click",()=>{const t=n.localToWorld(n.geo2pos(new c(110,34,0)));o.controls.target.copy(t);const e=o.camera.position;e.set(s.x,s.y,1e4);const r=setInterval(()=>{e.add(new c(0,-200,0)),e.y<2e3&&clearInterval(r)},20)});document.querySelector("#tween").addEventListener("click",()=>{const t=new c(138.7168714361765,35.293034242886165,4.138178498736728),e=new c(138.73205716638114,35.35132576846971,0);P(t,e)});document.querySelector("#reset").addEventListener("click",()=>{o.controls.reset()});const v=(t,e)=>{o.controls.target.copy(e);const r=o.camera.position;new a(r).to({y:1e4,z:0},500).chain(new a(r).to(t)).start()},P=(t,e)=>{const r=m=>n.localToWorld(n.geo2pos(m)),l=r(t),i=r(e);v(l,i)};o.addEventListener("update",()=>u.update());
