import"./modulepreload-polyfill-3cfb730f.js";import{aQ as f,aR as p,at as u,aS as x,H as h,M as S,e as g,m as C,t as L,j as y,s as T}from"./util-bf818b98.js";class b extends f{loadMaterial(t,e){let c=this.imgSource[0];const l=p.getTextureLoader(c).load(t,c,this.projectCenterLon,w=>{w.needsUpdate=!0,n.wireframe=!1,e([n])});l.colorSpace=u;const i=256,d=new OffscreenCanvas(i,i),m=j(d),n=new x({map:l,map1:new h(m),wireframe:!0});return[n]}}function j(o){const t=o.width,e=o.getContext("2d");return e&&(e.strokeStyle="#ccc",e.lineWidth=2,e.strokeRect(5,5,t-10,t-10),e.fillStyle="#ccc",e.shadowColor="black",e.shadowBlur=2,e.shadowOffsetX=1,e.shadowOffsetY=1,e.font="bold 20px arial",e.textAlign="center",e.fillText("一块瓦片",t/2,50),e.fillText("可以在瓦片上画点东西...",t/2,100)),o}const M=document.querySelector("#map"),s=new S(M),k=new b([g],C),r=new L({loader:k,projCenterLon:90,minLevel:2});s.scene.add(r);const a=r.project(100,34);s.controls.target.set(a.x,a.y,0);s.camera.position.set(a.x,a.y-1e3,3e3);y(r);T(s,r);
