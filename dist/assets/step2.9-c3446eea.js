import"./modulepreload-polyfill-3cfb730f.js";import{c as m,V as d,b as g,a1 as l,a2 as y,ah as L,ai as S,G as M,o as E,l as p,x as b,K as k,j as v,s as x,ag as T,m as f,e as j}from"./util-bf818b98.js";import{T as G}from"./TeapotGeometry-52223971.js";import{T as s}from"./tween.module-97c976ec.js";const n=m(j,f),i=n.project(105,30),P=new d(i.x,i.y,0),B=new d(0,-10,1e4),t=g("#map",P,B);t.scene.add(n);t.ambLight.intensity=.1;t.dirLight.intensity=.7;t.dirLight.castShadow=!0;t.scene.add(new l(t.dirLight));t.scene.add(new y(t.dirLight.shadow.camera));t.renderer.shadowMap.enabled=!0;n.addEventListener("tile-created",e=>{e.tile.receiveShadow=!0});const r=(()=>{const e=new L(16777215,10,5e3,Math.PI/4),a=n.project(105,30);return e.position.set(a.x,a.y+2e3,3e3),e.target.position.set(a.x,a.y,0),e.castShadow=!0,e})();t.scene.add(r);t.scene.add(new S(r));const c=new M,w=new E({color:34986}),h=(()=>{const e=n.project(100,40),a=new G(200),o=new p(a,w);return o.position.set(e.x,e.y,2e3),o.rotateX(Math.PI/2),o.castShadow=!0,o.receiveShadow=!0,c.add(o),o})(),u=(()=>{const e=n.project(110,40),a=new b(200,50),o=new p(a,w);return o.position.set(e.x,e.y,2e3),o.rotateX(Math.PI/2),o.castShadow=!0,o.receiveShadow=!0,c.add(o),o})();t.scene.add(c);new s.Tween(t.camera.position).to({y:1e3,z:1e3},5e3).easing(s.Easing.Bounce.Out).start(500);new s.Tween(h.position).to({z:200},1e3).easing(s.Easing.Bounce.Out).start(6e3),new s.Tween(u.position).to({z:250},1e3).easing(s.Easing.Bounce.Out).start(7e3);(()=>{const e=document.querySelector("#anim");t.addEventListener("update",a=>{s.update(),e.checked&&(h.rotation.y+=a.delta,u.rotation.y+=a.delta)})})();(()=>{const e=document.querySelector("#shadow");e.addEventListener("click",()=>{t.renderer.shadowMap.enabled=e.checked,t.dirLight.castShadow=e.checked,t.renderer.shadowMap.needsUpdate=!0})})();(()=>{const e=document.querySelector("#light");e.addEventListener("click",()=>{r.visible=e.checked})})();k(n);v(n);x(t,n);T(t);
