import"./modulepreload-polyfill-3cfb730f.js";import{V as r,t as m,u as g,U as l,X as y,G as L,e as S,c as w,j as M}from"./three.module-31477d3d.js";import{T as E}from"./TeapotGeometry-b9261621.js";import{T as s}from"./tween.module-97c976ec.js";import{c as f,a as k,e as v,d as T,b as x,s as b,f as B}from"./util-f3e58d78.js";import{m as G,a as P}from"./mapSource-de628f72.js";const n=f(P,G),d=n.geo2pos(new r(105,30)),I=new r(d.x,d.y,0),q=new r(0,-10,1e4),t=k("#map",I,q);t.scene.add(n);t.ambLight.intensity=.1;t.dirLight.intensity=.7;t.dirLight.castShadow=!0;t.scene.add(new m(t.dirLight));t.scene.add(new g(t.dirLight.shadow.camera));t.renderer.shadowMap.enabled=!0;n.addEventListener("tile-loaded",e=>{e.tile.receiveShadow=!0});const c=(()=>{const e=new l(16777215,10,5e3,Math.PI/4),a=n.geo2pos(new r(105,30));return e.position.set(a.x,a.y+2e3,3e3),e.target.position.set(a.x,a.y,0),e.castShadow=!0,e})();t.scene.add(c);t.scene.add(new y(c));const i=new L,p=new S({color:34986}),h=(()=>{const e=n.geo2pos(new r(100,40)),a=new E(200),o=new w(a,p);return o.position.set(e.x,e.y,2e3),o.rotateX(Math.PI/2),o.castShadow=!0,o.receiveShadow=!0,i.add(o),o})(),u=(()=>{const e=n.geo2pos(new r(110,40)),a=new M(200,50),o=new w(a,p);return o.position.set(e.x,e.y,2e3),o.rotateX(Math.PI/2),o.castShadow=!0,o.receiveShadow=!0,i.add(o),o})();t.scene.add(i);v(t,n);new s.Tween(t.camera.position).to({y:1e3,z:1e3},5e3).easing(s.Easing.Bounce.Out).start(500);new s.Tween(h.position).to({z:200},1e3).easing(s.Easing.Bounce.Out).start(6e3),new s.Tween(u.position).to({z:250},1e3).easing(s.Easing.Bounce.Out).start(7e3);(()=>{const e=document.querySelector("#anim");t.addEventListener("update",a=>{s.update(),e.checked&&(h.rotation.y+=a.delta,u.rotation.y+=a.delta)})})();(()=>{const e=document.querySelector("#shadow");e.addEventListener("click",()=>{t.renderer.shadowMap.enabled=e.checked,t.dirLight.castShadow=e.checked,t.renderer.shadowMap.needsUpdate=!0})})();(()=>{const e=document.querySelector("#light");e.addEventListener("click",()=>{c.visible=e.checked})})();T(n);x(n);b(t,n);B(t);
