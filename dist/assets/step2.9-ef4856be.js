import"./modulepreload-polyfill-3cfb730f.js";import{V as r,I as m,J as g,a4 as l,a5 as y,G as L,g as S,e as w,n as M,m as E,a as k}from"./mapSource-9a4d2911.js";import{T as f}from"./TeapotGeometry-d2fbfbc5.js";import{T as s}from"./tween.module-97c976ec.js";import{c as v,a as T,e as x,d as b,b as B,s as G,f as I}from"./util-bcbf6958.js";const n=v(k,E),d=n.geo2pos(new r(105,30)),P=new r(d.x,d.y,0),q=new r(0,-10,1e4),t=T("#map",P,q);t.scene.add(n);t.ambLight.intensity=.1;t.dirLight.intensity=.7;t.dirLight.castShadow=!0;t.scene.add(new m(t.dirLight));t.scene.add(new g(t.dirLight.shadow.camera));t.renderer.shadowMap.enabled=!0;n.addEventListener("tile-loaded",e=>{e.tile.receiveShadow=!0});const c=(()=>{const e=new l(16777215,10,5e3,Math.PI/4),a=n.geo2pos(new r(105,30));return e.position.set(a.x,a.y+2e3,3e3),e.target.position.set(a.x,a.y,0),e.castShadow=!0,e})();t.scene.add(c);t.scene.add(new y(c));const i=new L,p=new S({color:34986}),h=(()=>{const e=n.geo2pos(new r(100,40)),a=new f(200),o=new w(a,p);return o.position.set(e.x,e.y,2e3),o.rotateX(Math.PI/2),o.castShadow=!0,o.receiveShadow=!0,i.add(o),o})(),u=(()=>{const e=n.geo2pos(new r(110,40)),a=new M(200,50),o=new w(a,p);return o.position.set(e.x,e.y,2e3),o.rotateX(Math.PI/2),o.castShadow=!0,o.receiveShadow=!0,i.add(o),o})();t.scene.add(i);x(t,n);new s.Tween(t.camera.position).to({y:1e3,z:1e3},5e3).easing(s.Easing.Bounce.Out).start(500);new s.Tween(h.position).to({z:200},1e3).easing(s.Easing.Bounce.Out).start(6e3),new s.Tween(u.position).to({z:250},1e3).easing(s.Easing.Bounce.Out).start(7e3);(()=>{const e=document.querySelector("#anim");t.addEventListener("update",a=>{s.update(),e.checked&&(h.rotation.y+=a.delta,u.rotation.y+=a.delta)})})();(()=>{const e=document.querySelector("#shadow");e.addEventListener("click",()=>{t.renderer.shadowMap.enabled=e.checked,t.dirLight.castShadow=e.checked,t.renderer.shadowMap.needsUpdate=!0})})();(()=>{const e=document.querySelector("#light");e.addEventListener("click",()=>{c.visible=e.checked})})();b(n);B(n);G(t,n);I(t);
