import"./modulepreload-polyfill-3cfb730f.js";import{V as n,a as l,t as m,r as i}from"./mapSource-9a4d2911.js";import{c as p,a as d,s as f,b as u}from"./util-bcbf6958.js";const o=p([l]),c=o.geo2pos(new n(105,34)),g=new n(c.x,c.y,0),h=new n(0,-5e3,1e4),s=d("#map",g,h);s.scene.add(o);function y(t){t.addEventListener("update",()=>{const a=document.querySelector("#compass-plane");a&&(a.style.transform=`rotateX(${t.controls.getPolarAngle()}rad)`);const e=document.querySelector("#compass-text");e&&(e.style.transform=`rotate(${t.controls.getAzimuthalAngle()}rad)`)})}y(s);function x(t,a){var r;const e=new m.FakeEarth(((r=t.scene.fog)==null?void 0:r.color)||new i(0));return e.name="fakeearth",e.applyMatrix4(a.rootTile.matrix),t.controls.addEventListener("change",()=>{e.visible=t.controls.getDistance()>3e3}),e}o.add(x(s,o));f(s,o);u(o);
