import"./modulepreload-polyfill-3cfb730f.js";import{c as u,a as y}from"./util-bcbf6958.js";import{V as n,m as x,a as w}from"./mapSource-9a4d2911.js";import{T as c}from"./tween.module-97c976ec.js";const m=u(w,x),e=m.geo2pos(new n(108,34)),f=new n(e.x,e.y,0),g=new n(0,-2e3,5e3),o=y("#map",f,g);o.scene.add(m);document.querySelector("#jump").addEventListener("click",()=>{o.controls.target.set(e.x,e.y,0),o.camera.position.set(e.x,e.y-300,500)});document.querySelector("#timer").addEventListener("click",()=>{o.controls.target.set(e.x,e.y,0);const t=o.camera.position;t.set(e.x,e.y,1e4);const r=setInterval(()=>{t.add(new n(0,-30,-200)),t.z<2e3&&clearInterval(r)},20)});document.querySelector("#tween").addEventListener("click",()=>{E(o,m,138.732,35.35)});document.querySelector("#reset").addEventListener("click",()=>{o.controls.reset()});function E(t,r,d,p){const s=r.geo2pos(new n(d,p));t.controls.target.set(s.x,s.y,0);const a=t.camera,i=new c.Tween(a.position);i.to({x:a.position.x,y:0,z:8e3},1e3);const l=new c.Tween(a.position);l.to({x:s.x,y:s.y-10,z:6},1500).easing(c.Easing.Quartic.Out),i.chain(l),t.controls.enabled=!1,i.start().onComplete(()=>{t.controls.enabled=!0})}o.addEventListener("update",()=>c.update());
